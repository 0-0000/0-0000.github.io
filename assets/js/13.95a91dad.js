(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{288:function(t,e,v){"use strict";v.r(e);var _=v(14),s=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"miniextend-customui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#miniextend-customui"}},[t._v("#")]),t._v(" miniExtend CustomUI")]),t._v(" "),e("p",[t._v("对应源文件： "),e("code",[t._v("ui.lua")]),t._v(" 。")]),t._v(" "),e("p",[t._v("原型为 "),e("code",[t._v("Event")]),t._v(" ，但以面相对象方式描述界面与元件，且支持 "),e("RouterLink",{attrs:{to:"/api/object.html"}},[t._v("miniExtend Object")]),t._v(" 。")],1),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("大多数 "),e("code",[t._v("CustomUI")]),t._v(" 下的函数都会包含一个 "),e("code",[t._v("playerid")]),t._v(" 参数，它表示要响应该改变的"),e("span",{attrs:{title:"通常为玩家的迷你号，单人模式下可以传递为 0 表示那个唯一玩家"}},[t._v("玩家 ID")]),t._v("。")]),t._v(" "),e("p",[t._v("该参数不会被检查，如果 "),e("code",[t._v("playerid")]),t._v(" 非逻辑真，则以 "),e("code",[t._v("objid")]),t._v(" 代替。")])]),t._v(" "),e("p",[e("code",[t._v("CustomUI")]),t._v(" 下的所有未表明返回值的函数或方法，一律返回 "),e("code",[t._v("true")]),t._v(" ，表示"),e("span",{attrs:{title:"调用 API 成功不一定代表函数正确工作"}},[t._v("调用成功")]),t._v("。如果返回 "),e("code",[t._v("false")]),t._v(" ，表示"),e("span",{attrs:{title:"部分失败也视为函数失败"}},[t._v("调用失败了")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"子类介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#子类介绍"}},[t._v("#")]),t._v(" 子类介绍")]),t._v(" "),e("h3",{attrs:{id:"子类之间的关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#子类之间的关系"}},[t._v("#")]),t._v(" 子类之间的关系")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#UIView"}},[e("code",[t._v("CustomUI.UIView")])]),t._v(" UI 界面类。\n该类管理 "),e("code",[t._v("CustomUI.Element")]),t._v(" （其子类）对象。")]),t._v(" "),e("li",[e("a",{attrs:{href:"#Element"}},[e("code",[t._v("CustomUI.Element")])]),t._v(" UI 元件类。\n该类在 miniExtend 中并没有提供构造函数，因为在 UI 界面中创建的元件必定是其子类所指元件类型。\n之所以定义这个类，是因为不同种元件也有许多相同的方法。\n这个类包含了 UI 元件的基本操作，这些操作可应用于所有元件。")]),t._v(" "),e("li",[e("a",{attrs:{href:"#Image"}},[e("code",[t._v("CustomUI.Image")])]),t._v(" UI 图片元件类。\n"),e("code",[t._v("CustomUI.Image")]),t._v(" 对象管理 UI 界面下的图片元件，"),e("strong",[t._v("继承")]),t._v("自 "),e("code",[t._v("CustomUI.Element")]),t._v(" 。\n该类只额外提供了一个 "),e("code",[t._v("setTexture(url [, playerid])")]),t._v(" 方法。")]),t._v(" "),e("li",[e("a",{attrs:{href:"#Button"}},[e("code",[t._v("CustomUI.Button")])]),t._v(" UI 按钮元件类。\n"),e("code",[t._v("CustomUI.Button")]),t._v(" 对象管理 UI 界面下的按钮元件，"),e("strong",[t._v("继承")]),t._v("自 "),e("code",[t._v("CustomUI.Image")]),t._v(" 。\n该类相比父类并没有提供额外的方法，但提供了两个参数 "),e("code",[t._v("pressCallBack")]),t._v(" 和 "),e("code",[t._v("clickCallBack")]),t._v(" ，它们允许你处理按钮事件。")]),t._v(" "),e("li",[e("a",{attrs:{href:"#Text"}},[e("code",[t._v("CustomUI.Text")])]),t._v(" UI 文本元件类。\n"),e("code",[t._v("CustomUI.Text")]),t._v(" 对象管理 UI 界面下的文本元件，"),e("strong",[t._v("继承")]),t._v("自 "),e("code",[t._v("CustomUI.Element")]),t._v(" 。\n该类额外提供了两个方法： "),e("code",[t._v("setFontSize(size [, playerid]")]),t._v(" 和 "),e("code",[t._v("setText(text [, playerid])")]),t._v(" 。")]),t._v(" "),e("li",[e("a",{attrs:{href:"#EditBox"}},[e("code",[t._v("CustomUI.EditBox")])]),t._v(" UI 输入框元件类。\n"),e("code",[t._v("CustomUI.EditBox")]),t._v(" 对象管理 UI 界面下的输入框元件，"),e("strong",[t._v("继承")]),t._v("自 "),e("code",[t._v("CustomUI.Text")]),t._v(" 。\n该类额外提供了一个参数 "),e("code",[t._v("inputCallBack")]),t._v(" ，它允许你处理输入框事件。")])]),t._v(" "),e("h3",{attrs:{id:"customui-uiview-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-uiview-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.UIView")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象代表了一个 UI 界面。")]),t._v(" "),e("p",[t._v("构造函数："),e("code",[t._v("CustomUI:newUIView(uiid)")]),t._v(" ，构造一个 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("uiid")]),t._v(" ： "),e("code",[t._v("string")]),t._v(" 类型，指定该 UI 界面的 id ，该参数不会被检查。")])]),t._v(" "),e("p",[t._v("函数返回一个 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象，其 "),e("a",{attrs:{href:"#Element-id"}},[e("code",[t._v("id")]),t._v(" 属性")]),t._v("为 "),e("code",[t._v("uiid")]),t._v(" 。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("在同一作用域下， "),e("code",[t._v("uiid")]),t._v(" 用于唯一性判断。")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("uiid")]),t._v(" 参数相同，构造两次 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象，等价于构造一次。")])]),t._v(" "),e("p",[t._v("成员属性：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("id")]),t._v(" ： "),e("code",[t._v("string")]),t._v(" 类型， UI 界面的 ID ，等于调用 "),e("code",[t._v("CustomUI:newUIView()")]),t._v(" 时传递的 "),e("code",[t._v("uiid")]),t._v(" 属性。")]),t._v(" "),e("li",[e("code",[t._v("showCallBack")]),t._v(" ： 默认为 "),e("code",[t._v("nil")]),t._v(" ，如果有则为 "),e("code",[t._v("function")]),t._v(" 类型，指定当 UI 界面显示时回调的函数，你可以修改它来改变 UI 界面显示时回调的函数。")]),t._v(" "),e("li",[e("code",[t._v("hideCallBack")]),t._v(" ： 默认为 "),e("code",[t._v("nil")]),t._v(" ，如果有则为 "),e("code",[t._v("function")]),t._v(" 类型，指定当 UI 界面隐藏时回调的函数，类似 "),e("code",[t._v("showCallBack")]),t._v(" 。这比 "),e("code",[t._v("showCallBack")]),t._v(" 属性有用，因为桌面端玩家可能会按下 "),e("code",[t._v("Esc")]),t._v(" 键来意外退出 UI 界面。")]),t._v(" "),e("li",[e("code",[t._v("images")]),t._v(" ： "),e("code",[t._v("table")]),t._v(" 类型，包含属于该界面的 "),e("code",[t._v("CustomUI.Image")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("buttons")]),t._v(" ： "),e("code",[t._v("table")]),t._v(" 类型，包含属于该界面的 "),e("code",[t._v("CustomUI.Button")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("texts")]),t._v(" ： "),e("code",[t._v("table")]),t._v(" 类型，包含属于该界面的 "),e("code",[t._v("CustomUI.Text")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("editBoxes")]),t._v(" ： "),e("code",[t._v("table")]),t._v(" 类型，包含属于该界面的 "),e("code",[t._v("CustomUI.EditBox")]),t._v(" 对象。")])]),t._v(" "),e("p",[t._v("成员函数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("show([playerid])")]),t._v(" ：使玩家打开该 UI 界面。")]),t._v(" "),e("li",[e("code",[t._v("hide([playerid])")]),t._v(" ：使玩家隐藏该 UI 界面。")]),t._v(" "),e("li",[e("code",[t._v("setState(state [, playerid])")]),t._v(" ：设置该 UI 界面创建过的所有"),e("strong",[t._v("元件对象所指元件")]),t._v("的状态为 "),e("code",[t._v("state")]),t._v(":"),e("code",[t._v("string")]),t._v(" ，参见 "),e("a",{attrs:{href:"#Element-setState"}},[e("code",[t._v("CustomUI.Element.setState(state [, playerid])")])]),t._v("。")]),t._v(" "),e("li",[e("code",[t._v("newImage(elementid)")]),t._v(" ："),e("a",{attrs:{href:"#create-get"}},[t._v("创建或获取已有的")]),t._v(" ID 为 "),e("code",[t._v("elementid")]),t._v(":"),e("code",[t._v("string")]),t._v(" 的 "),e("code",[t._v("CustomUI.Image")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("newButton(elementid)")]),t._v(" ：创建或获取已有的 ID 为 "),e("code",[t._v("elementid")]),t._v(":"),e("code",[t._v("string")]),t._v(" 的 "),e("code",[t._v("CustomUI.Button")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("newText(elementid)")]),t._v(" ：创建或获取已有的 ID 为 "),e("code",[t._v("elementid")]),t._v(":"),e("code",[t._v("string")]),t._v(" 的 "),e("code",[t._v("CustomUI.Text")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("newEditBox(elementid)")]),t._v(" ：创建或获取已有的 ID 为 "),e("code",[t._v("elementid")]),t._v(":"),e("code",[t._v("string")]),t._v(" 的 "),e("code",[t._v("CustomUI.EditBox")]),t._v(" 对象。")])]),t._v(" "),e("h3",{attrs:{id:"customui-element-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-element-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.Element")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.Element")]),t._v(" 对象代表一个 UI 元件。")]),t._v(" "),e("p",[t._v("这是一个抽象类，无法构造对象示例，应该构造其子类的实例。使用 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象的最后四个方法来创建元件对象。")]),t._v(" "),e("p",[t._v("成员属性：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("uiView")]),t._v(" ： "),e("code",[t._v("table")]),t._v(" 类型，元件所属 "),e("code",[t._v("CustomUI.UIView")]),t._v(" 对象。")]),t._v(" "),e("li",[e("code",[t._v("id")]),t._v(" ： "),e("code",[t._v("stirng")]),t._v(" 类型，元件 ID ，等于构造该元件对象时传递的 "),e("code",[t._v("elementid")]),t._v(" 参数。")])]),t._v(" "),e("p",[t._v("成员函数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("show([playerid])")]),t._v(" ：显示该元件。")]),t._v(" "),e("li",[e("code",[t._v("hide([playerid])")]),t._v(" ：隐藏该元件。")]),t._v(" "),e("li",[e("code",[t._v("setDisplay(display [, playerid])")]),t._v(" ：设置元件的显示状态，如果 "),e("code",[t._v("display")]),t._v(" 为 "),e("code",[t._v("true")]),t._v(" ，显示元件，否则隐藏元件。")]),t._v(" "),e("li",[e("code",[t._v("setState(state [, playerid])")]),t._v(" ：设置元件的状态为 "),e("code",[t._v("state")]),t._v(" 。")]),t._v(" "),e("li",[e("code",[t._v("setPosition(x, y [, playerid])")]),t._v(" ：如果 "),e("code",[t._v("x")]),t._v(" 不为 "),e("code",[t._v("table")]),t._v(" 类型，调用该重载函数，设置元件的位置为 "),e("code",[t._v("(x, y)")]),t._v(" 。")]),t._v(" "),e("li",[e("code",[t._v("setPosition(position [, playerid])")]),t._v(" ：否则调用该重载函数，设置元件的位置为 ("),e("code",[t._v('positon["x"] or position[1], position["y"] or position[2]')]),t._v(") 。")]),t._v(" "),e("li",[e("code",[t._v("setSize(width, height [, playerid])")]),t._v(" ：如果 "),e("code",[t._v("width")]),t._v(" 不为 "),e("code",[t._v("table")]),t._v(" 类型，调用该重载函数，设置元件宽度为 "),e("code",[t._v("width")]),t._v(" ，高度为 "),e("code",[t._v("height")]),t._v(" 。")]),t._v(" "),e("li",[e("code",[t._v("setSize(size [, playerid])")]),t._v(" ：否则调用该重载函数，设置元件宽度为 "),e("code",[t._v('size["width"] or size[1]')]),t._v(" ，高度为 "),e("code",[t._v('size["height"] or size[2]')]),t._v(" 。")]),t._v(" "),e("li",[e("code",[t._v("setAngle(angle [, playerid])")]),t._v(" ：旋转元件至 "),e("code",[t._v("angle")]),t._v(":"),e("code",[t._v("number")]),t._v(" 角度，将"),e("strong",[t._v("原始元件（角度为 0 ）"),e("strong",[t._v("以__元件位置__为旋转点")]),t._v("顺时针")]),t._v("旋转 "),e("code",[t._v("angle")]),t._v(":"),e("code",[t._v("number")]),t._v(" 度得到旋转后的元件。")]),t._v(" "),e("li",[e("code",[t._v("setColor(color [, playerid])")]),t._v(" ：设置元件 RGB 颜色为 "),e("code",[t._v("color")]),t._v(":"),e("code",[t._v("number")]),t._v(" ，取值范围为 "),e("code",[t._v("0x000000")]),t._v("~"),e("code",[t._v("0xffffff")]),t._v("，对于 "),e("code",[t._v("0xRrGgBb")]),t._v(" 的 "),e("code",[t._v("color")]),t._v(" 参数，则红色值为 "),e("code",[t._v("0xRr")]),t._v(" ，绿色值为 "),e("code",[t._v("0xGg")]),t._v(" ，蓝色值为 "),e("code",[t._v("0xBb")]),t._v(" 。")]),t._v(" "),e("li",[e("code",[t._v("setAlpha(alpha [, playerid]")]),t._v(" ：设置元件透明度为 "),e("code",[t._v("alpha")]),t._v(":"),e("code",[t._v("number")]),t._v(" ， 取值范围为 "),e("code",[t._v("0")]),t._v("~"),e("code",[t._v("100")]),t._v(" ，0 为完全透明， 100 为完全不透明。")])]),t._v(" "),e("h3",{attrs:{id:"customui-image-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-image-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.Image")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.Image")]),t._v(" 对象代表一个 UI 图片元件。")]),t._v(" "),e("p",[t._v("构造函数："),e("code",[t._v("CustomUI.UIView:newImage(elementid)")]),t._v(" ，构造一个 "),e("code",[t._v("CustomUI.Image")]),t._v(" 对象。")]),t._v(" "),e("p",[t._v("成员函数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("setTexture(url [, playerid])")]),t._v("：\n"),e("ul",[e("li",[e("code",[t._v("url")]),t._v(" 的类型为 "),e("code",[t._v("string")]),t._v(" 。")]),t._v(" "),e("li",[t._v("设置图片的纹理为 "),e("code",[t._v("url")]),t._v(" 。")]),t._v(" "),e("li",[t._v('可以通过 "ID库" -"图片" 来获取 '),e("code",[t._v("url")]),t._v(" 。")])])])]),t._v(" "),e("h3",{attrs:{id:"customui-button-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-button-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.Button")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.Button")]),t._v(" 对象代表一个 UI 图片元件。")]),t._v(" "),e("p",[t._v("构造函数："),e("code",[t._v("CustomUI:newButton(uiid)")]),t._v(" ，构造一个 "),e("code",[t._v("CustomUI.Button")]),t._v(" 对象。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("你可以对一个按钮元件使用 "),e("code",[t._v("CustomUI.UIView:newImage(elementid);")]),t._v(" 来获取一个 "),e("code",[t._v("CustomUI.Image")]),t._v(" 对象并把元件当做图片操作，但是不建议这么做，对于 "),e("code",[t._v("CustomUI.Text")]),t._v(" 和 "),e("code",[t._v("CustomUI.EditBox")]),t._v(" 也如此。")])]),t._v(" "),e("p",[t._v("成员变量：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("pressCallBack")]),t._v(" ：默认为 "),e("code",[t._v("nil")]),t._v(" ，如果有则为 "),e("code",[t._v("function")]),t._v(" 类型，指定当所指按钮被按下时回调的函数。")]),t._v(" "),e("li",[e("code",[t._v("clickCallBack")]),t._v(" ：该属性与 "),e("code",[t._v("pressCallBack")]),t._v(" 属性类似，但在按钮被点击时回调。")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("点击=按下+释放，不要混淆这些事件。")])]),t._v(" "),e("h3",{attrs:{id:"customui-text-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-text-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.Text")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.Text")]),t._v(" 对象代表一个 UI 文本元件。")]),t._v(" "),e("p",[t._v("构造函数："),e("code",[t._v("CustomUI.UIIview:newText(uiid)")]),t._v(" ，构造一个 "),e("code",[t._v("CustomUI.Text")]),t._v(" 对象。")]),t._v(" "),e("p",[t._v("成员函数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("setFontSize(size [, playerid])")]),t._v(" ：设置文本元件的字体大小为 "),e("code",[t._v("size")]),t._v(" 。\n"),e("ul",[e("li",[e("code",[t._v("size")]),t._v(" 的类型为 "),e("code",[t._v("number")]),t._v(" ，取值范围为正整数。")]),t._v(" "),e("li",[t._v("要想知道多大的 "),e("code",[t._v("size")]),t._v(" 是合适的，你可以在 UI 编辑器中测试。")])])]),t._v(" "),e("li",[e("code",[t._v("setText(text [, playerid])")]),t._v(" ：设置文本元件显示的文本为 "),e("code",[t._v("text")]),t._v(" 。\n"),e("ul",[e("li",[e("code",[t._v("text")]),t._v(" 的类型为 "),e("code",[t._v("string")]),t._v(" ，如果太长，似乎不会起作用。")]),t._v(" "),e("li",[t._v("这不会导致文本被屏蔽。")])])])]),t._v(" "),e("h3",{attrs:{id:"customui-editbox-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customui-editbox-类"}},[t._v("#")]),t._v(" "),e("code",[t._v("CustomUI.EditBox")]),t._v(" 类")]),t._v(" "),e("p",[t._v("一个 "),e("code",[t._v("CustomUI.EditBox")]),t._v(" 对象代表一个 UI 输入框元件。")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("CustomUI.UIView:newText(elementid);")]),t._v(" 来创建一个 "),e("code",[t._v("CustomUI.Text")]),t._v(" 对象。")]),t._v(" "),e("p",[t._v("成员变量：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("inputCallBack")]),t._v(" ：默认为 "),e("code",[t._v("nil")]),t._v(" ，如果有则为 "),e("code",[t._v("function")]),t._v(" 类型，指定当所指输入框失焦（即输入完成）时回调的函数。")]),t._v(" "),e("li",[t._v("和 "),e("code",[t._v("CustomUI.Button")]),t._v(" 对象的 "),e("code",[t._v("clickCallBack")]),t._v(" 属性类似，也会传递参数，且额外包含 "),e("code",[t._v("element")]),t._v(" 键。")]),t._v(" "),e("li",[e("code",[t._v("content")]),t._v(":"),e("code",[t._v("string")]),t._v(" 是事件中最有用的参数，表示输入框输入的信息。")]),t._v(" "),e("li",[t._v("如果输入被屏蔽， "),e("code",[t._v("content")]),t._v(" 也会是屏蔽后的结果。")])]),t._v(" "),e("h2",{attrs:{id:"示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),e("h3",{attrs:{id:"需求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[t._v("#")]),t._v(" 需求")]),t._v(" "),e("p",[t._v("一 UI 界面 "),e("code",[t._v("u")]),t._v(" 下有一个输入框元件 "),e("code",[t._v("e")]),t._v(" 和一个文本 "),e("code",[t._v("t")]),t._v(" ，要求如下：")]),t._v(" "),e("ul",[e("li",[t._v("在玩家没有输入 "),e("code",[t._v("e")]),t._v(" 时， "),e("code",[t._v("e")]),t._v(" 总是显示 "),e("code",[t._v('"输入 16 进制数"')]),t._v(" ，开始输入时 "),e("code",[t._v("e")]),t._v(" 的内容清空。")]),t._v(" "),e("li",[e("code",[t._v("e")]),t._v(" 完成输入时，尝试将其解释为 16 进制数，并转化为 10 进制数，并将结果反应在 "),e("code",[t._v("t")]),t._v("上。")]),t._v(" "),e("li",[t._v("如果输入不合法，无法将其转化，则设置 "),e("code",[t._v("t")]),t._v(" 的文本为 "),e("code",[t._v('"错误的输入"')]),t._v("。")])]),t._v(" "),e("h3",{attrs:{id:"分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),e("ul",[e("li",[t._v("要在开始输入时清空 "),e("code",[t._v("e")]),t._v(" 的内容，需要处理一个 "),e("code",[t._v("ui.onClick")]),t._v(" 事件。实现方法是再创建一个按钮元件，设为 "),e("code",[t._v("b")]),t._v(" ，将 "),e("code",[t._v("e")]),t._v(" 设为 "),e("code",[t._v("b")]),t._v(" 的子集，调整 "),e("code",[t._v("b")]),t._v(" 的外观并将使其刚好覆盖 "),e("code",[t._v("e")]),t._v(" ，这样当玩家点击输入框开始输入时，也会触发按钮的点击事件，这时就能修改 "),e("code",[t._v("e")]),t._v(" 的内容了。")]),t._v(" "),e("li",[t._v("经测试，当按钮被点击时焦点才会进入输入框，所以不要使用按下事件。")]),t._v(" "),e("li",[t._v("使用 "),e("code",[t._v("tonumber(e [, base])")]),t._v(" 函数来转化数字。")])]),t._v(" "),e("h3",{attrs:{id:"代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),e("p",[t._v("以下代码假设已经配置好 UI 相关环境了。")]),t._v(" "),e("div",{staticClass:"language-lua extra-class"},[e("pre",{pre:!0,attrs:{class:"language-lua"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 需替换以下 id")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" uiview_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" editBox_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" text_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" button_id "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[]]")]),t._v("\nuiview "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" CustomUI"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("newUIView")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uiview_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\neditBox "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("newEditBox")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("editBox_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ntext "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("newText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbutton "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uiview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("newButton")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("button_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 初始化")]),t._v("\nEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("[[Game.AnyPlayer.EnterGame]]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paprm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tuiview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ttext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\teditBox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入 16 进制数"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uiid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nbutton"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clickCallBack "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paprm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 清空输入框")]),t._v("\n\teditBox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\neditBox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputCallBack "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paprm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" num "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tonumber")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("paprm"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" num "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\ttext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tostring")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\ttext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"错误的输入"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n\teditBox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setText")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入 16 进制数"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[t._v("代码短的有点难以置信，这其中最复杂的还是在 UI 界面下创建元件并初始化状态。")])])}),[],!1,null,null,null);e.default=s.exports}}]);